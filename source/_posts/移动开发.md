title: 移动开发
date: 2016-03-08 18:15:19
tags: "移动端web开发"
categories: "移动端web开发"
---

### 使用rem解决不同屏幕大小的字号显示

``` javascript
(function (doc, win) {
  var docEl = doc.documentElement,
    resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
    recalc = function () {
      var clientWidth = docEl.clientWidth;
      if (!clientWidth) return;
      docEl.style.fontSize = 20 * (clientWidth / 320) + 'px';
    };

  if (!doc.addEventListener) return;
  win.addEventListener(resizeEvt, recalc, false);
  doc.addEventListener('DOMContentLoaded', recalc, false);
})(document, window);
```
### zepto tap事件穿透
移动端点击事件一般不会用click（300ms的延时触发），但是在使用tap事件的时候有一些问题，比如弹出层中点击按钮，而按钮的正下方刚好绑定了一个可点击的区域，此刻这个可点击区域的事件会被触发。
##### 解决办法：
1. 延时300ms以上的事件来处理事件，配合一些fadeout等动画，做出动画效果。
``` javascript
$(".close-btn").on("tap", function (event) {
   setTimeout(function(){
     alert('点我了');
   },301);
});  
```
2. 使用touchend。
``` javascript
$(".close-btn").on("touchend", function (event) {
   event.preventDefault();
   setTimeout(function(){
     alert('点我了');
   },301);
});  
```
